120Orkut
Arquivo fonte: orkut.c, orkut.cc, orkut.cpp ou orkut.pasLarissa acaba de entrar para o Orkut, um site na internet que permite que as pessoas se reúnam emcomunidades e grupos de amigos. Como ela acabou de se registrar, ela ainda não possui muitosamigos na sua lista de contatos. Após fazer uma pesquisa, ela descobriu que os seus antigos ami-gos de escola (que adoravam mexer com computadores) também fazem parte do Orkut. Larissaentão decidiu chamá-los para serem seus amigos virtuais. Porém, eles resolveram brincar com aLarissa, e cada um deles só vai aceitar o pedido de Larissa quando ela já for amiga virtual dealguns dos outros amigos do grupo. Assim, para conseguir ter todos os seus antigos amigos deescola na sua lista de amigos do Orkut, ela deve cumprir as exigências de cada um deles.
1. Tarefa
Larissa acha que pode encontrar uma seqüência de nomes dos amigos, de modo que se ela pedir acada um deles para ser sua amiga no Orkut, obedecendo a seqüência, todas as exigências serãocumpridas e todos eles irão aceitar o seu pedido. Larissa precisa da sua ajuda para resolver esseproblema de forma rápida. A sua tarefa é escrever um programa para encontrar uma seqüência denomes que resolva o problema, ou dizer que não é possível encontrar tal seqüência.
2. Entrada
A entrada é composta de vários conjuntos de teste. A primeira linha de um conjunto de teste con-tém um inteiro N que indica o número de antigos amigos da Larissa (1 ≤ N ≤ 30). A linha seguinteirá conter N nomes de amigos, separados por espaço em branco. Cada nome não terá mais de 15letras, e serão todos distintos. Nas próximas N linhas serão indicadas as exigências que a Larissadeve cumprir. Cada linha descreve a exigência de um amigo e começará com o nome desse amigo,seguido de um número M (0 ≤ M ≤ N–1), que indica o número de pessoas que aquele amigo querque a Larissa seja amiga antes, e seguido pelos M nomes de amigos (cada item na linha separadopor espaço em branco). O ﬁnal da entrada é indicado por N = 0.Exemplo de Entrada5Joao Maria Tadeu Jose RicardoJoao 2 Maria RicardoMaria 1 TadeuJose 1 JoaoTadeu 0Ricardo 03Joao Maria RenataMaria 1 JoaoJoao 1 RenataRenata 1 Maria0133. Saída
Para cada conjunto de teste seu programa deve produzir três linhas na saída. A primeira linhadeverá conter um identiﬁcador do conjunto de teste, no formato “Teste n”, onde n é numeradoseqüencialmente a partir de 1. A segunda linha deve conter a seqüência de nomes de amigos (cadanome seguido de um espaço em branco) que resolve o problema da Larissa, ou a palavra “impos-sivel”, quando não houver uma seqüência possível (note a ausência de acentuação). Se existirmais de uma seqüência de amigos que resolve o problema, imprima qualquer uma delas (mas ape-nas uma). A terceira linha deverá ser deixada em branco. A graﬁa mostrada no Exemplo de Saídaabaixo deverá ser seguida rigorosamente.Exemplo de SaídaTeste 1Ricardo Tadeu Maria Joao JoseTeste 2impossivel(esta saída corresponde ao exemplo de entrada acima)
4. Restrições
0 ≤ N ≤ 30 (N = 0 apenas para indicar o ﬁm da entrada)0 ≤ M ≤ N – 1Cada nome de amigo terá no máximo 15 letras