Olimpíada Brasileira de Informática - OBI2022 — Prog. Nível Júnior - Fase 3 6

Carro elétrico

Nome do arquivo: carro.c, carro.cpp, carro.pas, carro.java, carro.js ou carro.py

O mapa ao lado mostra o reino de Quadradônia. As estradas
são representadas por linhas e as cidades por círculos nume- 1
rados de 1 a 10. As estradas são igualmente espaçadas com
distância de 100 km entre cada par de estradas, sendo ori- DL d
entadas em apenas duas direções: Norte-Sul e Leste-Oeste. N
Uma empresa de aluguel de carros em Quadradônia utiliza 2 t
apenas carros elétricos. À autonomia de um carro elétrico é e (o)
a distância que ele pode percorrer com uma carga de energia; s
após essa distância o carro deve ser carregado novamente 5 |6

para que possa ser utilizado. Há carregadores de energia à di d
em cada cidade e não há carregadores de energia fora das e
cidades. Entre cidades, os carros trafegam apenas pelas
estradas e todos os carros têm a mesma autonomia.

Um vendedor deseja partir da cidade 1 e visitar todas as outras cidades, em qualquer ordem, mesmo
que ele visite a mesma cidade mais de uma vez. Ele quer utilizar preferencialmente carros elétricos
na sua viagem, mas se necessário viajará de avião se a distância para a próxima cidade for maior
do que a autonomia do carro. Por exemplo, no mapa acima, se a autonomia for 300 km, o vendedor
pode alugar um carro em 1 e visitar 3 e depois 2, mas não pode alcançar as outras cidades. Então
ele pode viajar de avião até 5, alugar um carro visitar 6, depois viajar de avião até 4. Assim, são
necessárias duas viagens de avião para ele visitar todas as cidades.

Dados o mapa da Quadradônia e a autonomia dos carros, determine qual o menor número de viagens
de avião que são necessárias para que o viajante visite todas as cidades, partindo da cidade 1.

Entrada

A primeira linha contém dois inteiros X e Y, indicando respectivamente o número de estradas
na direção Oeste-Leste e estradas na direção Norte-Sul. As estradas são numeradas de 1 a X na
direção Oeste-Leste e de 1 a Y na direção Norte-Sul. A segunda linha contém dois inteiros N e
A, indicando respectivamente o número de cidades e a autonomia dos carros, em kilômetros. As
cidades são numeradas de 1 a N. Cada uma das N linhas seguintes contém um par de inteiros x; e
yi, indicando a posição da cidade de número à, para l <i<N.

Saída

Seu programa deve produzir uma única linha, contendo um único inteiro, o menor número de viagens
de avião necessárias para que o vendedor visite todas as cidades.

Restrições
e 1<X<100000
e1<Y <100000
e2<N<1000
e1<4<150000

el<z<X

ec1I<p<yY
 Olimpíada Brasileira de Informática - OBI2022

Informações sobre a pontuação

e Para um conjunto de casos de testes valend:

Prog. Nível Júnior - Fase 3

o 37 pontos, N = 2.

e Para outro conjunto de casos de testes valendo 32 pontos, Y = 1, e é garantido que as cidades

são dadas em ordem crescente de X (isto é,

e Para um outro conjunto de casos de testes valendo 31 pontos, nenhuma restrição adicional.

Exemplos

Exemplo de entrada 1

Exemplo de saída 1

79 2

6 300

22

35

43

28

67

TT

Explicação do exemplo 1: Este é o exemplo do enunciado.

Exemplo de entrada 2

9
200

“ONE wUNON

JN O On

Exemplo de saída 2

4

Explicação do exemplo 2: Como a autonomia é

200 km, a única viagem de carro possível é

entre as cidades 5 e 6. O vendedor pode por exemplo viajar de avião de 1 para 3, depois de 3

para 2, depois de 2 para 4, depois de 4 para 5, a
quatro viagens de avião.

ugar um carro e visitar 6, para um total de
