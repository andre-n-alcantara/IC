Olimpíada Brasileira de Informática - OBI2019 — Prog. Nível 2 — Fase Nacional 7

Grand Prix da Nlogônia

Nome do arquivo: prix.c, prix.cpp, prix.pas, prix. java, prix.js, prix. py2.py ou prix py3.py

A Nlogônia irá realizar o Grand Prix de corrida de carros. Foram dados planos de construção de
um circuito para a realização do evento e você ficou responsável pela avaliação do plano. Um grafo
di

ou seja, existe um vertice P e um caminho direcionado saindo de P que chega novamente em P.
A Nlogônia pode ser representada como um grafo direcionado que contêm N esquinas, numeradas
de 1 a N. Foram dados para você M planos de construção, cada um contendo três inteiros U,L e
R, que significa o seguinte: caso esse plano seja aceito, será construída uma estrada direcionada da
esquina U para a esquina i, paratodo L<i < R. Sua tarefa é computar o menor inteiro X tal que
aceitando todos os planos de 1 até X, teremos um Grand Prix em Nlogônia.

Entrada

recionado de N vertices e M arestas é considerado um Grand Prix se existe algum ciclo direcionado,

A primeira linha da entrada contém dois inteiros N e M, representando, respectivamente, o número
de esquinas e o número de planos. As M linhas seguintes contêm, cada uma, três inteiros U Le R,
descrevendo um plano de construção.

Saída

Imprima um inteiro X, o menor inteiro tal que aceitando todos os planos de 1 até X, inclusive,
conseguiremos um Grand Prix. Caso Nlogônia não consiga realizar o Grand Prix, imprima —1.

Restrições

e 2<N<200000
e 1<M <200000
CI<L<R<N
“I<U<N

E garantido que não existe uma aresta de um vertice indo para ele mesmo.

Informações sobre a pontuação

e Em um conjunto de casos de teste valendo 10 pontos, N < 200000, M < 200000 e L = R para
todo plano.

e Em um conjunto de casos de teste valendo 10 pontos, N < 1000, M < 500.
e Em um conjunto de casos de teste valendo 10 pontos, N < 500, M < 20000.

e Em um conjunto de casos de teste valendo 25 pontos, N < 200000, M < 200000 e é garantido
que L = 1 para todo plano.

e Em um conjunto de casos de teste valendo 45 pontos, nenhuma restrição adicional.

Exemplo de entrada 1 Exemplo de saída 1

4

ND 0 HO wu co
WaR BINHO O
ON TRE NO

 Olimpíada Brasileira de Informática

OBI2019

Prog. Nível 2 — Fase Nacional

Exemplo de entrada 2

NH AN
Ho ND DN
HM

Exemplo de saída 2

2

Exemplo de entrada 3

BORA
NEN NEN O
DO ENO

Exemplo de saída 3

-1

