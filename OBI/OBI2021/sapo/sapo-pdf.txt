Olimpíada Brasileira de Informática - OBI2021 — Prog. Nível Júnior — Fase Fase 3 6

Sr. Sapo

Nome do arquivo: “sapo.x”, onde x deve ser c, cpp, pas, java, js ou py

O Sr. Sapo mora num lago de formato retangular dividido em um reticulado de células quadradas
de um metro de lado. Algumas das células são pedras que estão acima do nível da água.

O Sr. Sapo é muito atlético e pode saltar a distâncias de até três metros, mas curiosamente ele só
pode saltar nas direções paralelas aos lados do lago. A figura (a) abaixo mostra um lago, e a figura
(b) uma sequência de pulos do Sr. Sapo.

1 2 3 4

(a)

O Sr. Sapo está em uma pedra e quer ir visitar sua namorada que está em outra pedra. Ele está
com pressa e não quer se molhar, portanto quer chegar ao seu destino pulando de pedra em pedra,
sem cair na água.

Dados o mapa do lago, a pedra em que o Sr. Sapo está e a pedra em que a sua namorada está,
determine se é possível ele chegar ao seu destino sem se molhar.

Entrada

A primeira contém dois inteiros N, M, respectivamente a largura e o comprimento do lago em
metros (ou seja, o lago é composto por N colunas e M linhas de células quadradas de Im de lado).
As colunas são numeradas de 1 à N e as linhas são numeradas de 1 a M. A segunda linha contém
um inteiro P, o número de células que são pedras. Cada uma das P linhas seguintes contém dois
inteiros C; e Li, respectivamente o número da coluna e o número da linha de uma célula que é
pedra. A linha seguinte descreve a célula em que o Sr. Sapo está e contém dois inteiros Sc e
SL, respectivamente a coluna e a linha da célula. A linha seguinte descreve a célula em que está
a namorada do Sr. Sapo e contém dois inteiros Rc e Rr, respectivamente a coluna e a linha da
célula.

Saída

Seu programa deve produzir uma única linha na saída, contendo um único caractere, que deve ser
*'S” se for possível o Sr. Sapo chegar ao destino sem se molhar, ou “Nº caso contrário.

Restrições
e3<N<h100

ei<M<aI100

e2<P<NxM
eI<C<Mel<L;<Mparal<i<P
eiI<So<Nel<S<M

CI<RC<NeI<RL<M

e As posições do Sr. Sapo e da sua namorada são distintas e ambas são posições de pedras
especificadas na entrada.
 Olimpíada Brasileira de Informática - OBI2021 — Prog. Nível Júnior — Fase Fase 3 7

Informações sobre a pontuação

e Para um conjunto de casos de testes valendo 14 pontos, M = 1

e Para um conjunto de casos de testes valendo outros 16 pontos, para a pedra em que o Sr.
Sapo está inicialmente, há no máximo uma outra pedra para a qual ele pode saltar, e para
todas as outras pedras, há no máximo duas para a qual ele pode saltar (ou seja, se o Sr. Sapo
consegue chegar ao destino, há um único caminho de pedras que podem ser usadas, e esse
caminho não tem "bifurcações").

e Para um conjunto de casos de testes valendo outros 70 pontos, nenhuma restrição adicional.

Exemplo de entrada 1 Exemplo de saída 1

5 o)

BARSWOUANHOSR
[oa SOS

Explicação do exemplo 1: este exemplo corresponde à figura do enunciado. O Sr. Sapo pode
usar as pedras (1,1) > (1,4) > (3,4) > (3,5) > (4,5) e assim consegue chegar ao destino.

Exemplo de entrada 2 Exemplo de saída 2
45 N
6

21

25

34

41

43

45

34

21

Explicação do exemplo 2: este exemplo corresponde à seguinte figura:

1 2 3 4

O Sr. Sapo não consegue dar nenhum pulo e não consegue chegar ao seu destino.
