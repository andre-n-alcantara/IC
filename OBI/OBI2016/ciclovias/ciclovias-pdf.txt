Olimpíada Brasileira de Informática - OBI2016 9

Ciclovias

Nome do arquivo: ciclovias.c, ciclovias.cpp, ciclovias.pas, ciclovias. java,
ciclovias.js ou ciclovias.py

A cidade de Nlogônia é mundialmente conhecida pelas suas iniciativas de preservação ambiental.
Dentre elas, uma das que mais chama atenção é a existência de ciclovias em todas as ruas da
cidade. Essa medida teve um sucesso tão grande, que agora a maioria dos moradores usa a bicicleta
diariamente. Em Nlogônia, as interseções são numeradas de 1 até N. Cada rua liga duas interseções
Ae Be possui uma ciclovia entre A e B. Um caminho P de tamanho K é definido como uma
sequência de interseções Py, P»,..., Px, tal que paratodoi, 1 <i < K, existe uma ciclovia entre P; e
P;,1. Arnaldo e Bernardo estavam passeando de bicileta pelas ruas de Nlognônia quando pensaram
em um novo jogo. Nesse jogo, os dois partem de alguma interseção C e procuram o caminho P de
maior tamanho que satisfaça a seguinte regra: as subsequências

PPP. Pan e PPP... Po

da sequência P devem ser ambas crescentes. Ganha o jogo aquele que encontrar o maior caminho.
Bernardo te ligou pedindo ajuda para se preparar para o jogo. Com o mapa da cidade você deve
encontrar o tamanho do maior caminho possível para todas as interseções iniciais possíveis, seguindo
as restrições acima. No exemplo abaixo, o maior caminho possível para início na interseção 1 é
P=(1,3,5,4,7) e para início na interseção 5 é P= (5,3,6) ou P = (5,4,7).

Entrada

A primeira linha contém dois inteiros N e M, representando respectivamente o número de interseções
e o número de ruas. As M linhas seguintes contém dois inteiros 4 e B indicando que existe uma
ciclovia entre A a B.

Saída

Seu programa deve produzir uma única linha, contendo N inteiros Ri, Ro,... Rn, onde R; é o
tamanho do maior caminho possível se o jogo começar na interseção 1.

Restrições

c1<N<IG.
N(N-1
0O<M< Mo
0<M<5x10.
AB.
I<A,B<N.
Não existem duas ciclovias iguais.
 Olimpíada Brasileira de Informática - OBI2016

Informações sobre a pontuação

e Em um conjunto de casos de teste equivalente a 20 pontos, N < 7.
e Em um conjunto de casos de teste equivalente a 40 pontos, N < 100.
e Em um conjunto de casos de teste equivalente a 60 pontos, N < 1000.

Exemplos

Entrada Saída
5 44422

BNHHHO
DANWwa

Entrada Saída

66 756421
13

283

42

34

35

54

Entrada Saída

76 5642322
12

13

35

36

54

47

