Olimp´ıada Brasileira de Inform´ atica – OBI2006 –Modalidade Programa¸ c˜ ao N´ıvel 14
Conversa n˜ ao t˜ ao secreta
Nome do arquivo fonte:conversa.c,conversa.cpp,ouconversa.pasA pol´ıcia descona que dois homens que passeiam todos os dias pelo parque s˜ ao na verdade criminosos. Oparque ´ e plano, de formato retangular, e estreitas faixas de grama o dividem em quadrados de mesmo tamanho,formando uma grade deNporMquadrados.Os dois homens tˆ em um comportamento curioso e suspeito em seu passeio: ap´ os encontrarem-se, conversamdurante um minuto, andam mudando rapidamente de lugar, passando a ocupar um novo quadrado do parque,conversam mais um minuto, andam novamente (mudando de quadrado), conversam mais um minuto, e assimsucessivamente. A cada minuto escolhem uma dire¸ c˜ ao (Norte, Sul, Leste ou Oeste) e andam at´ e o quadradoimediatamente vizinho na dire¸ c˜ ao escolhida.Tentando escutar trechos das conversas dos homens, a pol´ıcia instalou um pequeno microfone multi-direcionalem um dos quadrados do parque. O microfone ´ e capaz de captar conversas realizadas no quadrado onde est´ ainstalado e em todos os quadrados imediatamente vizinhos.Os dois homens sempre iniciam o passeio no quadrado de coordenadas (0,0).
Tarefa
Dadas as coordenadas do microfone e a seq¨ uˆ encia de movimentos que os dois homens realizaram durante seupasseio no parque, seu programa deve determinar quantos minutos de conversa foram captados pelo microfone.
Entrada
A entrada cont´ em um ´ unico conjunto de testes, que deve ser lido dodispositivo de entrada padr˜ ao(normalmenteo teclado). A primeira linha cont´ em dois inteirosNeMque indicam respectivamente o n´ umero de linhas e on´ umero de colunas do parque (0≤N≤1000000 e 0≤M≤1000000). A segunda linha cont´ em dois inteirosXeYque indicam a coordenada do microfone em termos de linhas e colunas (0≤X≤Ne 0≤Y≤M). A terceira linha cont´ em um inteiroK, indicando o n´ umero de quadrados pelos quais os dois homens passearam. A quartalinha cont´ emKinteiros, entre 1,2,34, que indicam a rota tomada pelos dois homens durante o passeio; cadainteiro indica a dire¸ c˜ ao tomada aonal de um minuto de conversa, com1representando o Norte,2representandoo Sul,3representando o Leste e4representando o Oeste.
Sa´ıda
Seu programa deve imprimir, nasa´ıda padr˜ ao, uma ´ unica linha contendo um inteiro: o n´ umero de minutos deconversa¸ c˜ ao captados pelo microfone.
Exemplos
Entrada10 102 233 3 3Sa´ıda0Entrada5 50 133 1 3Sa´ıda3Entrada20 203 281 1 3 3 1 1 2 4Sa´ıda6