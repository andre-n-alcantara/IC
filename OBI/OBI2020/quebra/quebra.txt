Olimpíada Brasileira de Informática – OBI2020 – Prog. Nível 2 – Fase Estadual6
Quebra-cabeças
Nome do arquivo:“quebra.x”,ondexdeve serc,cpp,pas,java,js,py2oupy3Um quebra-cabeças é composto por um tabuleiro composto por células quadradas organizadas emduas linhas deNcolunas. Cada célula do tabuleiro pode conter umacha numerada, como nagura abaixo.
Aschas podem ser deslizadas para uma célula não ocupada à direita ou à esquerda da posiçãocorrente dacha, mas a ordem daschas, da esquerda para a direita, não pode ser alterada. Assim,nagura acima aschas−3e5podem ser movidas no máximo uma célula para a direita ou paraa esquerda; já acha3pode ser movida somente para a esquerda, uma ou duas células. Aguraabaixo ilustra algumas congurações possíveis para o quebra-cabeça dagura acima.
5 2 -3 5
3 2 -12 -3 5
3 2 -1 3 2 -1
(a)(b)(c)-3 2
Ovalorde uma conguração é a soma das multiplicações entre aschas da primeira e da segundalinha do tabuleiro, para cada coluna (a ausência decha em uma célula é equivalente à presençade umacha de valor zero). Ou seja, para a conguração (a) acima, o valor é2×−1 +−3×0 +5×2 + 0×3 = 8; para a conguração (b), o valor é2×−1 +−3×0 + 0×2 + 5×3 = 13; para aconguração (c), o valor é0×−1 + 0×2 + 2×3 +−3×0 + 5×0 = 6. O objetivo do quebra-cabeçaé encontrar uma conguração com o maior valor possível.Dada a descrição do tabuleiro e daschas do quebra-cabeças, escreva um programa para determinaro maior valor possível que uma conguração pode ter.
Entrada
A primeira linha da entrada contém um inteiroN, o número de colunas do tabuleiro. Cada umadas duas linhas seguintes descreve aschas de uma linha do tabuleiro. A linha da entrada iniciacom um inteiroMindicando o número dechas na linha do tabuleiro, seguido deMinteirosX i
indicando o valor e ordem daschas.
Saída
Seu programa deve produzir uma única linha, contendo um único número inteiro, o valor máximode uma conguração para o quebra-cabeças da entrada.
Restrições
•1≤N≤500•1≤M≤N•−100≤X
i≤100eX i6= 0para1≤i≤MOlimpíada Brasileira de Informática – OBI2020 – Prog. Nível 2 – Fase Estadual7
Informações sobre a pontuação
•Para um conjunto de casos de testes valendo 20 pontos,1≤N≤10eM=N−1.•Para um conjunto adicional de casos de testes valendo 30 pontos,1≤N≤200.•Para um conjunto adicional de casos de testes valendo 50 pontos, nenhuma restrição adicional.
Exemplos
Exemplo de entrada 1
53 2 -3 53 -1 2 3Exemplo de saída 1
19
Exemplo de entrada 2
64 -20 7 13 -25 1 -2 7 1 -1Exemplo de saída 2
133