Olimpíada Brasileira de Informática — OBI2008 — Programação Nível 2 Fase 2 3

Chuva

Nome do arquivo fonte: chuva.c, chuva.cpp ou chuva.pas

A robótica causou uma grande revolução nos processos industriais no mundo todo; atualmente, vários tipos de
robôs são usados na fabricação de carros, equipamentos eletrônicos e até mesmo utensílios domésticos.

Uma fábrica possui um robô de manutenção, que constantemente precisa ser deslocado entre setores diferentes
para executar vários serviços. A movimentação do robô é feita por controle remoto: ele pode andar qualquer
distância, mas apenas nas quatro direções cardeais (norte, sul, leste e oeste).

Robôs são feitos de metal, e por isso é ideal que eles evitem contato direto com a água. Assim, em dias chuvosos,
é ideal que a trajetória do robô passe por dentro de galpões, debaixo de marquises e toldos, etc. para evitar sua
exposição à chuva.

A sua tarefa é escrever um programa que, dadas as informações sobre as áreas cobertas e ponto inicial e final
do robô, determine uma trajetória para o robô que minimize a porção do trajeto feita sob chuva.

Entrada

A entrada contém um único conjunto de testes, que deve ser lido do dispositivo de entrada padrão (normalmente
o teclado). A primeira linha da entrada contém quatro inteiros Xi;, Y;, Xp e Y (0 < XY, Xp,Yj < 10º),
indicando, respectivamente, a posição atual e a posição final do robô — o robô começa na posição (Xj;, Y;) e
deve terminar na posição (X', Yf).
A linha seguinte da entrada contém um único inteiro N (0 < N < 1000), indicando o número de áreas cobertas
na fábrica. Cada uma das N linhas seguintes contém quatro inteiros X4, Y, XD)eY% (0< X < X < 108,
O<YN<h< 10º), indicando uma região coberta.

Uma região coberta é um retângulo de lados paralelos aos eixos tal que (X1,Y1) e (Xs,Y5) são vértices opostos
do retângulo. Duas áreas cobertas podem ter regiões comuns. O robô pode entrar e sair de uma área coberta
por qualquer ponto de seu perímetro, e pode trafegar livremente dentro da área coberta.

Saída

Seu programa deve imprimir, na saída padrão, uma única linha, contendo um número inteiro indicando a menor
distância que o robô precisa percorrer sob chuva.

Exemplo de entrada Exemplo de saída
0043 7

0

Exemplo de entrada Exemplo de saída
2550 5

1

0015

Exemplo de entrada Exemplo de saída
4550 5

2

0015

0032

 Olimpíada Brasileira de Informática — OBI2008 — Programação Nível 2 Fase 2 4

Informações sobre a pontuação
e Em um conjunto de casos de teste que totaliza 30 pontos, X1,Y1, Xo,Y», X;, Xp, Yi, Yp <10e N<s5.

e Em um conjunto de casos de teste que totaliza 55 pontos, X1,Y, X2,Y>, X;, Xp, Y;,Y; < 1000e N < 100.
