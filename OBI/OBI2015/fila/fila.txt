Olimpíada Brasileira de Informática - OBI2015 9

Fila

Nome do arquivo: fila.c, fila.cpp, fila.pas, fila. java, fila.js ou fila.py

Na cerimônia de encerramento da IOI, os competidores formam uma fila à medida que vão chegando
ao local. Os competidores são desorganizados e entram na fila perto de seus novos amigos, ou seja,
cada competidor escolhe uma posição arbitrária da fila para entrar. Logo na entrada do local há
um telão que mostra fotografias e vídeos dos competidores durante a competição. Há uma grande
diferença entre as alturas dos competidores, inclusive pelas diferenças de idade, e para que todos
possam ver o telão, deve-se evitar que um competidor muito alto fique na frente de um competidor
muito baixo, a não ser que esse competidor mais alto esteja longe, mais à frente na fila.

A organização da IOI está monitorando a fila e pediu que você faça um programa que inicialmente
receba a descrição da fila inicial (número N de pessoas e suas alturas A1, 49,..., An, pela ordem
na fila, onde A; é a altura do primeiro da fila). Em seguida, seu programa deve processar dois tipos
de operações:

e na operação tipo 0, seu programa recebe a informação que um novo competidor, de altura H,
acabou de entrar na fila, exatamente atrás do I-ésimo competidor na fila (para 1 = 0 o novo
competidor entrou no começo da fila)

e na operação tipo 1, seu programa recebe dois inteiros, 1 e D, e deve responder a uma consulta:
considere a I-ésima pessoa na fila, digamos, P, e determine a posição na fila da pessoa mais
próxima de P que está à frente de P e cuja altura é maior do que Hj + D (onde H; é a altura
de P).

Entrada

A primeira linha da entrada contém um único número inteiro N, indicando o número de pessoas na
fila inicial. A segunda linha da entrada contém os N números inteiros A1, Ao,..., An, as alturas de
cada pessoa da fila. A terceira linha contém um único inteiro Q indicando o número de operações.
Cada uma das Q linhas seguintes contém três números inteiros números T', 1 e X, descrevendo uma
operação: T indica o tipo da operação, 1 representa uma posição na fila e X é a altura H do novo
competidor (na operação tipo 0) ou o parâmetro D (na operação do tipo 1).

Restrições

0<N<6x10

1<Q<6x10

1<4;<10º paratodoi,1<i<N
1<X<10º

Informações sobre a pontuação

e Em um conjunto de casos de testes somando 40 pontos, N <2x 10º, Q <2x 10º e todas as
operações são do tipo 1;
e Em um conjunto de casos de testes somando 80 pontos, N<2x10'eQ<2x 10º.
 Olimpíada Brasileira de Informática - OBI2015
Exemplos

Entrada Saída
5 1
105782 2
6 1
156 (o)
0111

166

0013

164

165

10
