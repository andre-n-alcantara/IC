Olimpíada Brasileira de Informática - OBI2015 4

Família real

Nome do arquivo: real.c, real.cpp, real.pas, real. java, real.js oureal.py

O rei de um reino muito muito distante deu uma grande festa para reunir todas as gerações dos
seus descendentes: filhos e filhas, netos e netas, bisnetos e bisnetas, e assim por diante. Ele, que
gosta muito de estatísticas, agora quer saber, para cada geração, qual a porcentagem de descen-
dentes daquela geração que compareceu à festa. Você foi contratado para escrever um programa de
computador que calcule as porcentagens de todas as gerações!

O rei tem N descendentes, identificados com os números de 1 a N. O próprio rei será identificado
com o número 0. Será dada apenas a informação, para cada descendente, de quem é o seu pai ou
sua mãe, na linha de descendência que começa no rei. Além disso, claro, será dada a lista de todos
que compareceram à festa.

Entrada

A primeira linha da entrada contém dois inteiros N e M, respectivamente, o número de descendentes
e o número de participantes da festa. A segunda linha contém N números, representando os pais
ou mães dos N descendentes, em ordem crescente: o primeiro número indica o pai ou a mãe do
descendente de número 1, o segundo número indica o pai ou a mãe do descendente de número 2,
e assim por diante. A terceira linha contém M números, identificando todos os descendentes que
compareceram à festa.

Saída

Seu programa deve imprimir uma linha com uma lista de números reais, com precisão de duas
casas decimais, indicando a porcentagem, para cada geração, dos descendentes daquela geração que
compareceram à festa. O primeiro número deve ser a porcentagem dos filhos e filhas, o segundo dos
netos e netas, e assim por diante.

Restrições

eci<M<N<it10000

Exemplos

Entrada Saída

9 5 50.00 33.33 100.00 0.00
730903567

32819

Entrada Saída

16 11 100.00 50.00 66.67 50.00 100.00
15928611030812096 1612

5 14 912624103117

