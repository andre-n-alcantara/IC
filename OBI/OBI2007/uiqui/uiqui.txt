Olimpíada Brasileira de Informática — OBI2007 — Modalidade Programação, Nível 1, Fase 2 4

Uiquipédia
Nome do arquivo fonte: uiqui.c, uiqui.cpp, ou uiqui.pas

A Uiquipédia (Wikipedia em inglês), fundada em 2001 por Jimmy Wales e Larry Sanger, é um site onde qualquer
pessoa pode editar os artigos, fazendo correções ou ampliando seu conteúdo.

Uma das grandes vantagens da Uiquipédia sobre enciclopédias de papel é a facilidade de seguir referências;
com um simples clique, é possível ir de um artigo para outro relacionado. Essas referências são chamadas de
referências diretas. Também é possível navegar a Uiquipédia sequencialmente: cada artigo possui referência
para o artigo anterior e para o posterior, na ordem alfabética. Essas referências são chamadas de referências
sequenciais.

Por exemplo, um artigo para o termo “Elefante” pode ter uma referencia direta para amiferos” em seu
texto, desta forma pode-se chegar de “Elefante” a “Mamiferos” em um clique. Observe que pode não existir a
referência direta contrária, ou seja, de “Mamiferos” para “Elefante”. Adicionalmente se “Elevador” é o próximo
artigo depois de “Elefante”, na ordem alfabetica, pode-se ir com um clique de “Elefante” para “Elevador” e de
“Elevador” para “Elefante”, pois há uma referencia sequencial entre eles.

Paulo e André são dois amigos que contribuem para a Uiquipédia. Muitas vezes, André edita um artigo e
quer que Paulo o ajude a revisar a modificação. A conexão de Paulo à Internet é discada, e por isso ele quer
chegar na página que André editou usando o menor número de cliques possível, comecando do artigo em que
está, e navegando apenas por referencias, diretas ou sequenciais.

&

Tarefa

Escreva um programa que, dados todas as referências diretas existentes na Uiquipédia, a página onde Paulo
está, e a página editada por André, determina de quantos cliques Paulo precisa, no mínimo, para ver a página
que foi modificada por André, utilizando as referências diretas e sequenciais.

Entrada

A entrada contém um único conjunto de testes, que deve ser lido do dispositivo de entrada padrão (normalmente
o teclado). A primeira linha contém um único inteiro, N, que é o número de referências da Uiquipédia (1 <
N < 1.000). As N linhas contém cada uma duas strings X e Y, separadas por um espaço, que são os nomes
de duas páginas da Uiquipédia conectadas por uma referência direta (de X para Y). Todo artigo existente
na Uiquipédia aparece pelo menos uma vez na descricao das referencias diretas, permitindo que as referencias
sequenciais sejam extraidas das informacoes dadas. Note que uma referência direta pode ligar duas páginas que
estariam ligadas também por uma referência sequencial.

Depois da descrição das referências, há uma linha em branco, e a linha seguinte contém duas cadeias de
caracteres, P e 4, que são a página atual de Paulo e a página editada por André. O nome de cada página é
limitado a 100 caracteres e contém somente letras maíusculas, letras minusculas e o símbolo ?.*. Observe que na
ordem alfabetica o simbolo '” é anterior às letras maiusculas, que por sua vez sao anteriores às letras minusculas.

Saída

Seu programa deve imprimir, na saída padrão, uma única linha, contendo um único inteiro, que diz o número
mínimo de cliques que são necessários para ir da página atual de Paulo até a página editada por André. Sempre
é possível navegar de um artigo a outro.
 Olimpíada Brasileira de Informática - OBI2007 - Modalidade Programação, Nível 1, Fase 2

Entrada

3

Pink Floyd O Lado Escuro Da Lua
Pink Floyd O Muro

O Muro Muro de Berlim

O Muro O Lado Escuro Da Lua

Saída

1

Entrada

4

Chaves Quico

Quico Chiquinha

Professor Girafales Dona Florinda
Chaves Dona Clotilde

Chaves Chiquinha

Saída

2

