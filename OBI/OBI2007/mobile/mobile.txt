Olimp´ıada Brasileira de Inform´ atica – OBI2007 – Programa¸ c˜ ao N´ıvel 2 Fase 1 7
M´ obile
Nome do arquivo fonte:mobile.c,mobile.cpp,oumobile.pasM´ obiles s˜ ao objetos muito populares hoje em dia, sendo encontrados at´ e em ber¸ cos, para divers˜ ao de bebˆ es,mas foram concebidos h´ a muito tempo (em 1931) pelo ent˜ ao jovem artista americano Alexander Calder comoesculturas em movimento. Um m´ obile ´ e uma estrutura composta de pe¸ cas unidas poros. O m´ obile ´ e presopor umo a uma argola pela qual ele ´ e suspenso, permitindo que a estrutura movimente-se livremente. Aargola ´ e presa a uma ´ unica pe¸ ca, chamada de pe¸ ca-raiz do m´ obile. A pe¸ ca-raiz pode ter zero ou mais sub-m´ obiles pendurados nela, cada sub-m´ obile sendo composto por uma pe¸ ca-raiz na qual por sua vez podem estarpendurados zero ou mais sub-m´ obiles, e assim sucessivamente. Abaixo podemos ver dois exemplos de m´ obiles:
Victor ´ e dono de uma fabrica de m´ obiles que emprega centenas de artes˜ aos. Cada m´ obile produzido na f´ abrica´ e confeccionado por um artes˜ ao, que cria m´ obiles de acordo com o seu gosto pessoal, utilizando pe¸ cas de formatosdistintos. Entretanto, Victor tem notado que nem todos os seus artes˜ aos possuem a mesma habilidade art´ıstica,de forma que ` as vezes o m´ obile produzido nem sempre ´ e bem balanceado, segundo a sua concep¸ c˜ ao. ParaVictor, um m´ obile ´ e bem balanceado se, para cada pe¸ ca, todos os sub-m´ obiles pendurados nela s˜ ao compostospelo mesmo n´ umero de pe¸ cas. O n´ umero de pe¸ cas de um sub-m´ obile ´ e determinado contando-se o n´ umero depe¸ cas que o comp˜ oe, incluindo a sua pe¸ ca-raiz. Note que cada pe¸ ca do m´ obile, exceto a pe¸ ca-raiz, ´ e penduradaem exatamente uma outra pe¸ ca.Por exemplo, o m´ obile dagura (a) acima ´ e um m´ obile bem balanceado: a pe¸ ca-raiz possui um ´ unico sub-m´ obile, que por sua vez possui trˆ es sub-m´ obiles, todos com o mesmo n´ umero de pe¸ cas (uma ´ unica). J´ a o m´ obiledagura (b) ´ e um m´ obile mal balanceado: a pe¸ ca-raiz possui dois sub-m´ obiles, um com o total de duas pe¸ case outro com o total de uma pe¸ ca.
Tarefa
Dada a descri¸ c˜ ao de um m´ obile, vocˆ e deve escrever um programa para determinar se o m´ obile est´ a bem balan-ceado ou n˜ ao.
Entrada
A entrada cont´ em um ´ unico conjunto de testes, que deve ser lido dodispositivo de entrada padr˜ ao(normalmenteo teclado). A primeira linha da entrada cont´ em um inteiroNque indica o n´ umero de pe¸ cas utilizadas no m´ obile(1≤N≤10.000). As pe¸ cas s˜ ao identicadas por inteiros de 1 aN. Cada uma dasNlinhas seguintes cont´ emdois n´ umeros inteirosIeJ, indicando que a pe¸ ca de n´ umeroIest´ a pendurada na pe¸ ca de n´ umeroJ(a pe¸ caraiz est´ a pendurada na argola, que ´ e identicada pelo o n´ umero 0).
Sa´ıda
Seu programa deve imprimir, nasa´ıda padr˜ ao, uma ´ unica linha, contendo a palavrabemse o m´ obile estiver bembalanceado oumalcaso esteja mal balanceado. A palavra deve ser escrita com todas as letras em min´ usculas.Olimp´ıada Brasileira de Inform´ atica – OBI2007 – Programa¸ c˜ ao N´ıvel 2 Fase 1 8
Entrada31 02 13 2Sa´ıdabemEntrada51 02 14 23 25 2Sa´ıdabemEntrada72 01 23 14 35 46 47 5Sa´ıdamal