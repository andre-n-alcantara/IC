Olimpíada Brasileira de Informática - OBI2017 — Prog. Nível 1 - Fase 2 5

Castelos da Nlogônia

Nome do arquivo: cores.c, cores.cpp, cores.pas, cores. java, cores. js, cores.py2 ou
cores.py3

O rei da Nlogônia não consegue decidir de que cor ele vai mandar pintar os castelos do reino. Nos
últimos tempos ele tem dado ordens bastante extravagantes do tipo: “pintem todos os castelos no
caminho entre o castelo À e o castelo B, inclusive eles, da cor C”. Ele pode falar “no” caminho,
porque os castelos da Nlogônia estão ligados por estradas entre eles de modo que existe exatamente
um caminho entre quaisquer dois castelos, possivelmente passando por outros castelos, sem repetir
castelos. De outra forma, sempre é possível ir de qualquer castelo para qualquer outro castelo e por
apenas um caminho, sem repetir castelos.

A Nlogônia tem N castelos, identificados por números de 1 a N. A figura ilustra uma sequência
de duas operações de colorir sobre cinco castelos, numerados de 1 a 5, com cores identificadas por
inteiros de O a 3:

e colorir os castelos de 5 até 3 com a cor 1;
e colorir os castelos de 2 até 4 com a cor 3.

Ao final, os castelos de 1 a 5 terão as cores 0, 3, 1, 3 e 1, respectivamente.

Neste problema, considerando que os N castelos na Nlogônia inicialmente estão pintados da cor
zero, dados os pares de castelos que estão ligados por uma estrada e uma sequência de M ordens
de pintura, seu programa deve imprimir a cor que cada castelo vai ter ao final, depois que todas as
ordens de pintura forem executadas em sequência.

Entrada

A primeira linha da entrada contém dois inteiros N e M, respectivamente o número de castelos e o
número de ordens de pintura. Os castelos são indexados de 1a N. As N—1 linhas seguintes contêm,
cada uma, dois inteiros U e V distintos, indicando que existe uma estrada entre os castelos U e V
diretamente. Nas M linhas seguintes, cada linha contém três inteiros P, Q e C, representando uma
ordem de pintura entre os castelos P e Q), não necessariamente distintos, com a cor €.

Saída

Seu programa deve imprimir uma única linha, contendo a sequência de cores dos castelos de 1 a N,
após todas as M ordens de pinturas terem sido executadas em sequência.

Restrições

e2<N<100ec1<M<h100
“I<UV,PQ<SN
e 0O<C<100
 Olimpíada Brasileira de Informática - OBI2017 — Prog. Nível 1 - Fase 2

Exemplos

Entrada Saída
52 03131
12

25

24

43

531

243

Entrada Saída
94 4811284468
71

12

62

9 6

25

8 6

45

34

142

784

341

928

