Olimpíada Brasileira de Informática – OBI2018 – Prog. Nível 2 – Fase Local5
Câmara de Compensação
Nome do arquivo:“compensacao.x”,ondexdeve sercpp,pas,java,js,py2oupy3Em uma cidade, muitas pessoas emprestam dinheiro para outras pessoas. A coisa chegou a um talponto que tem gente que é ao mesmo tempo devedor e credor. As pessoas resolveram então pagarsuas dívidas e cada uma emitiu os cheques para pagar suas dívidas. Por exemplo, nagura, item (a),a pessoaCemitiu um cheque de 5 dinheiros para a pessoaA, e a pessoaDemitiu um cheque de3 dinheiros para a pessoaC. Ou seja, a pessoaCrecebeu da pessoaDe pagou a pessoaA. Piorainda, existe um ciclo vicioso, em que a pessoaDemitiu um cheque de 3 dinheiros para a pessoaC,que por sua vez emitiu um cheque de 2 dinheiros para a pessoaB, que por sua vez emitiu umcheque de 1 dinheiro para a pessoaD. A situação mostrada no item (a) da Figura abaixo é descritaatravés de umalista de cheques, com quatro triplas da forma(X,V,Y), para indicar queXemitiuum cheque deVdinheiros paraY. Na mesma Figura, no item (b), a situação é descrita com umalista de apenas três cheques.
5322113(a)(b)
D CA B
DB A
C
Entretanto, as duas listas são equivalentes: o saldo na conta bancária de uma pessoa é o mesmo emambas as listas de cheques. Em ambos os casos, completada a compensação de todos os cheques,a pessoaAterminará com 5 dinheiros a mais na sua conta, a pessoaBterminará com 1 dinheiroa mais na sua conta, a pessoaCterminará com 4 dinheiros a menos na sua conta e a pessoaDterminará com 2 dinheiros a menos na sua conta.Vamos então denir equivalência de listas de cheques emitidos: duas listas de cheques sãoequivalen-tesse, aonal do processo de compensação de todos os cheques, o seguinte vale para cada pessoa:seu saldo bancário aonal da compensação de uma lista é o mesmo que o saldo bancário da pessoaaonal da compensação da outra lista.O total de valores compensados no item (a) dagura é igual a 11 dinheiros ao passo que no item (b)o total é de apenas 6 dinheiros!Este problema tem duas subtarefas:•Subtarefa A: determinar, dada uma lista de cheques, se é possível ou não diminuir o total devalores compensados utilizando uma outra lista de cheques equivalente.•Subtarefa B: determinar o total mínimo de valores compensados em uma lista de chequesequivalente.Você deve escrever um programa que resolva apenas a Subtarefa A ou que resolva as duas subtarefas.
Entrada
A primeira linha contém dois inteiros,MeN, ondeMé o número de cheques emitidos eNé onúmero de habitantes da cidade. Os habitantes são identicados por números inteiros de 1 aN.Cada uma dasMlinhas seguintes descreve um cheque da lista e contém três inteirosX,VeY,que indica queXemitiu um cheque deVdinheiros a favor deY. É possível que haja mais de umcheque deXaY. Também é possivel que haja cheques deXaYe deYaX, mas não deXaX.Olimpíada Brasileira de Informática – OBI2018 – Prog. Nível 2 – Fase Local6
Saída
Seu programa deve produzir duas linhas na saída. A primeira linha descreve a resposta para aSubtarefa A e deve conter um único caractere. O caractere deve serSpara indicar que é possíveldiminuir o total dos cheques compensados com uma lista de cheques equivalente, ouNpara indicarque não é possível diminuir o total de cheques compensados.Se o seu programa resolve também a Subtarefa B, a segunda linha descreve a resposta para essasubtarefa e deve conter um número inteiro, o valor mínimo do total de cheques compensados, emuma lista equivalente. Se o seu programa não resolve a Subtarefa B, você pode deixar a linha embranco ou colocar um valor inteiro arbitrário.
Restrições
•1≤M≤106
•2≤N≤103
•1≤X≤N,1≤Y≤N,X6=Y•1≤V≤10
2
Informações sobre a pontuação
•Subtarefa A: 20 pontos.•Subtarefa B: em um conjunto de casos de testes que vale 20 pontos1≤N≤10.
Exemplo de entrada 1
4 42 1 43 5 13 2 24 3 3Exemplo de saída 1
S6
Exemplo de entrada 2
5 44 50 32 25 13 10 22 100 14 50 3Exemplo de saída 2
S215
Exemplo de entrada 3
4 43 10 12 40 12 30 42 20 4Exemplo de saída 3
N100