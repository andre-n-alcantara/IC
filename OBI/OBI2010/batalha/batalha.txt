Olimp´ıada Brasileira de Inform´ atica – OBI2010 3
Batalha Naval
Nome do arquivo fonte:batalha.c,batalha.cpp,oubatalha.pasPedro e Paulo gostam muito de jogar batalha naval; apesar de serem grandes amigos, Pedro descona que Paulon˜ ao esteja jogando honestamente. Para tirar essa d´ uvida, Pedro decidiu usar um programa de computador paravericar o resultado do jogo, mas Pedro n˜ ao sabe programar e por isso pediu a sua ajuda.O jogo de batalha naval ´ e jogado em um tabuleiro retangular comNlinhas eMcolunas. Cada posi¸ c˜ ao destetabuleiro ´ e um quadrado que pode conter ´ agua ou uma parte de um navio. Dizemos que dois quadrados s˜ aovizinhosse estes possuem um lado em comum. Se duas partes de navio est˜ ao em posi¸ c˜ oes vizinhas, ent˜ ao essasduas partes pertencem ao mesmo navio. A regra do jogo pro´ıbe que os quadrados de duas partes de naviosdistintos tenham um canto em comum (em outras palavras, que quadrados de duas partes de navios distintoscompartilhem um v´ ertice).Cadadisparoque um jogador faz deve ser feito em um dos quadrados do tabuleiro do outro jogador. Um jogadorinforma ao outro a coluna e a linha do quadrado alvo do disparo. Para que um navio sejadestru´ıdo, o jogadordeve acertar todas as partes deste navio. O jogador n˜ ao pode atirar no mesmo lugar mais de uma vez.
Tarefa
Escreva um programa que, dadas a congura¸ c˜ ao do tabuleiro e uma sequˆ encia de disparos feitos por um jogador,determina o n´ umero de navios do outro jogador que foram destru´ıdos.
Entrada
A primeira linha da entrada cont´ em n´ umeros dois inteirosNeM(1≤N≤100 eM≤100) representando respectivamente o n´ umero de linhas e de colunas do tabuleiro. AsNseguintes linhas correspondem ao tabuleirodo jogo. Cada uma dessas linhas cont´ emMcaracteres. Cada caractere indica o conte´ udo da posi¸ c˜ ao corres-pondente no tabuleiro. Se esse caractere for ‘.’, essa posi¸ c˜ ao cont´ em ´ agua; se for ‘#’, essa posi¸ c˜ ao cont´ em umaparte de um navio. A pr´ oxima linha cont´ em um n´ umeroKque ´ e o n´ umero de disparos feitos pelo jogador(1≤K≤N×M). As pr´ oximasKlinhas indicam os disparos feitos pelo jogador. Cada linha cont´ em doisinteirosLeC, indicando a linha e a coluna do disparo feito pelo outro jogador (1≤L≤Ne 1≤C≤M).
Sa´ıda
Seu programa deve imprimir uma ´ unica linha contendo um ´ unico n´ umero inteiro, o n´ umero de navios destru´ıdos.
Informa¸ c˜ oes sobre a pontua¸ c˜ ao
•Em um conjunto de casos de teste que totaliza 30 pontos, os navios s˜ ao todos compostos por exatamenteuma parte (ou seja, um quadrado).•Em um conjunto de casos de teste que totaliza 50 pontos, cada navio est´ a contido em exatamente umalinha.Olimp´ıada Brasileira de Inform´ atica – OBI2010 4
Exemplos
Entrada5 5..#.##.......#.#.......#.51 31 41 52 13 4Sa´ıda4
Entrada5 5..###.....#####.....#.##.55 15 21 31 41 5Sa´ıda2
Entrada7 7.#....####..##.#....#....#.#.#..#.#.####.#.......81 11 22 12 22 33 25 26 2
Sa´ıda1